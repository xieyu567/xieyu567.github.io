---
title: Network-chapter1
date: 2019-07-23 09:59:02
categories: Computer Network A Systems Approach
visitors: 
mathjax: true
tags: Network
---
章节一的习题:

#### 1.1

&emsp;&emsp;匿名ftp有三种方法:
1. 用户名为anonymous,密码为空
2. 用户名为FTP,密码为空或FTP
3. 用户名为USER,密码为pass

&emsp;&emsp;majaro可以使用fileZilla这个ftp工具. 题中的ftp站点结构和题目描述不符, 如果需要RFC规范可以在IETF(Internet Engineering Task Force)获取. https://www.ietf.org/rfc/

#### 1.2

&emsp;&emsp;whois用于查询域名和组织,例如查询google的域名信息,可以使用两种方法:
```bash
whois google
whois google.com
```

#### 1.3

1. &emsp;$2\times RTT+1000KB/1.5Mbps+RTT/2\approx 5.458s$
第一项是题目给出的初始握手阶段的时延,第二项是传输的时延$Size/Bandwidth=8Mb/1.5Mbps\approx 5.333s$.第三项是单程的传播时延.
1. 在上一题的基础上再加上999个RTT, $5.458s+RTT*999=55.408s$
2. 一共需要49.5个RTT(最后一次传输只用0.5RTT),加上初始时延,$(49.5+2)*RTT=2.575s$
3. 一共需要9.5个RTT,因此为$(9.5+2)*RTT=0.575s$

#### 1.4

1. &emsp;$2\times RTT+1.5MB/10Mbps+RTT/2\approx 1.4s$ 
2. &emsp;$1.4s+(1.5*10^3-1)RTT=121.32s$
3. 一共需要1499.5个RTT,$(74.5+2)*RTT=6.12s$
4. 一共需要10.5个RTT,因此为$(10.5+2)*RTT=1s$

#### 1.5&1.6

可得$50*10^3m/(2*10^8m/s)=100*8b/x$,解得带宽为3.2Mbps.在512字节的情况下带宽为16.384Mbps.

#### 1.7

&emsp;&emsp;在同一市下属的各个区,邮政地址中前面的若干位是相同的,变动的是后几位的数字.可变的位数是根据下属区的个数而定.电话号码类似,不同的位数有特殊的含义,并且有可变的掩码.

#### 1.8

&emsp;&emsp;存在地址不唯一的情况,在不同的内网,两个节点的地址是可能相等的,也就是说两个节点在各自的内网地址是同样的地址,如192.168.1.2

#### 1.9

&emsp;&emsp;组播能够有效减少冗余广播,常见的应用场景包括电视电话会议,在线教育等.

#### 1.10

&emsp;&emsp;FDM和STDM的问题是信道的利用率不够高,在传统的电视和电话网络中,没有足够的交互性,如电视的数据流是单向的,用户只接受数据流.电话类似,两个人不会同时都在说话.但是计算机网络中,很多突发性和长时间的数据流.使用FDM和STDM的话,信道效率不高.

#### 1.11

每比特的传输时间为$1/10^9bps=1\mu s$, 长度为$1*10^{-9} s*2.3*10^8m/s=0.23m$

#### 1.12

共需要$(x*8*10^3)/(y*10^6)=8x/y*10^{-3}=8x/y\text{ms}$

#### 1.13&1.14

1. 最小RTT为$2*55*10^9/3*10^{-8}=1100/3s=367s$
2. 延迟带宽积为$RTT/2*128*10^3=2.348*10^7bit=2.93MB$
3. 总时延为$5MB/128kbps+RTT/2=5*8*10^6/128*10^3+183.5=496s$

#### 1.17

1. 总时延为$2*(5*10^3b/1Gbps+10*10^{-6})=30\mu s$
2. 有三个交换机,即是有4个链路总时延为上题的两倍,即$60\mu s$
3. 对于直通式转发,交换机上只有$128b/1Gbps=128ns$的延迟,加上4个传播延迟和1个传输延迟,总延迟为$45.384\mu s$.

#### 1.27

1. 带宽为$1920*1080*24*30=1.492992Gbps\approx 1.5Gbps$
2. 带宽为$8000*8=64Kbps$
3. 带宽为$260*50=13kbps$
4. 带宽为$24*88200=2.1168Mbps\approx 2.1Mbps$

#### 1.37

![](https://i.loli.net/2019/07/24/5d37afba402a934744.png)
&emsp;&emsp;这里只设置了5跳,星号可能是防火墙封掉了ICMP的返回.第一跳是我的网关,一共发送4个数据包,后面显示的是数据包返回的时间.

&emsp;&emsp;traceroute是利用ICMP包和IP头的TTL位.具体是traceroute先发送一个TTL为1的数据包,当到达路径上第一个路由时,TTL减1,路由器收到TTL为0的包便会丢弃,并返回ICMP time exceeded的信息,traceroute收到返回的包,便可知道路径上的路由器信息.接着发送第二个包,TTL为2.以此累加,一直到到达目的地址.因为traceroute发送的包中port number是一个一般应用程序不会用到的端口(30000以上),因此目标主机会返回ICMP port unreachable的信息.traceroute收到信息就知道已到达了目标地址.

&emsp;&emsp;很显然可以看出对于一些路由器丢弃TTL为0的包时,不返回信息,那么traceroute就没法工作.